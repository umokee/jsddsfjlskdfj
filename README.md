# Task Manager —Å —Å–∏—Å—Ç–µ–º–æ–π –ø–æ–∏–Ω—Ç–æ–≤

–ö–æ–º–ø–ª–µ–∫—Å–Ω—ã–π –º–µ–Ω–µ–¥–∂–µ—Ä –∑–∞–¥–∞—á –∏ –ø—Ä–∏–≤—ã—á–µ–∫ —Å –≥–µ–π–º–∏—Ñ–∏–∫–∞—Ü–∏–µ–π —á–µ—Ä–µ–∑ —Å–∏—Å—Ç–µ–º—É –ø–æ–∏–Ω—Ç–æ–≤. –ü–æ—Å—Ç—Ä–æ–µ–Ω –Ω–∞ FastAPI backend –∏ React frontend.

## –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ

- [–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏](#–≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏)
- [–ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç](#–±—ã—Å—Ç—Ä—ã–π-—Å—Ç–∞—Ä—Ç)
- [–í–Ω–µ—à–Ω–∏–π –¥–æ—Å—Ç—É–ø –∫ API](#–≤–Ω–µ—à–Ω–∏–π-–¥–æ—Å—Ç—É–ø-–∫-api)
- [–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞](#—Å—Ç—Ä—É–∫—Ç—É—Ä–∞-–ø—Ä–æ–µ–∫—Ç–∞)
- [–°–∏—Å—Ç–µ–º–∞ –ø–æ–∏–Ω—Ç–æ–≤](#—Å–∏—Å—Ç–µ–º–∞-–ø–æ–∏–Ω—Ç–æ–≤)
- [–°–ø—Ä–∞–≤–æ—á–Ω–∏–∫ API](#—Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫-api)
- [–°–ø—Ä–∞–≤–æ—á–Ω–∏–∫ –Ω–∞—Å—Ç—Ä–æ–µ–∫](#—Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫-–Ω–∞—Å—Ç—Ä–æ–µ–∫)
- [–ú–∏–≥—Ä–∞—Ü–∏—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö](#–º–∏–≥—Ä–∞—Ü–∏—è-–±–∞–∑—ã-–¥–∞–Ω–Ω—ã—Ö)
- [–î–µ–ø–ª–æ–π](#–¥–µ–ø–ª–æ–π)
- [–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å](#–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å)

---

## –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

### –û—Å–Ω–æ–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
- **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∑–∞–¥–∞—á–∞–º–∏**: –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç (0-10), –≠–Ω–µ—Ä–≥–∏—è (0-5), –°—Ä–æ–∫–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
- **–û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –ø—Ä–∏–≤—ã—á–µ–∫**: –ï–∂–µ–¥–Ω–µ–≤–Ω—ã–µ –ø—Ä–∏–≤—ã—á–∫–∏ —Å –ø–æ–¥—Å—á—ë—Ç–æ–º —Å—Ç—Ä–∏–∫–∞ (–º–∞–∫—Å–∏–º—É–º 30 –¥–Ω–µ–π)
- **–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –∑–∞–¥–∞—á**: –ü–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω—ã–µ —Ü–µ–ø–æ—á–∫–∏ –∑–∞–¥–∞—á (–ó–∞–¥–∞—á–∞ B –∑–∞–≤–∏—Å–∏—Ç –æ—Ç –ó–∞–¥–∞—á–∏ A)
- **–ï–∂–µ–¥–Ω–µ–≤–Ω–æ–µ –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ**: –£–º–Ω—ã–π –∞–ª–≥–æ—Ä–∏—Ç–º "Roll" –¥–ª—è –≤—ã–±–æ—Ä–∞ –∑–∞–¥–∞—á –Ω–∞ –¥–µ–Ω—å
- **–°–∏—Å—Ç–µ–º–∞ –ø–æ–∏–Ω—Ç–æ–≤**: –ö–æ–º–ø–ª–µ–∫—Å–Ω–∞—è –≥–µ–π–º–∏—Ñ–∏–∫–∞—Ü–∏—è —Å –Ω–∞–≥—Ä–∞–¥–∞–º–∏ –∏ —à—Ç—Ä–∞—Ñ–∞–º–∏
- **–¶–µ–ª–∏**: –£—Å—Ç–∞–Ω–æ–≤–∫–∞ —Ü–µ–ª–µ–π –Ω–∞ –æ—Å–Ω–æ–≤–µ –ø–æ–∏–Ω—Ç–æ–≤ —Å –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ–º –≤–æ–∑–Ω–∞–≥—Ä–∞–∂–¥–µ–Ω–∏–π
- **–ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä –ø–æ–∏–Ω—Ç–æ–≤**: –ü—Ä–æ–≥–Ω–æ–∑ –±—É–¥—É—â–∏—Ö –ø–æ–∏–Ω—Ç–æ–≤ –Ω–∞ –æ—Å–Ω–æ–≤–µ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

### –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ —Å–∏—Å—Ç–µ–º—ã –ø–æ–∏–Ω—Ç–æ–≤
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –ø–æ–¥—Å—á—ë—Ç –ø–æ–∏–Ω—Ç–æ–≤ –ø—Ä–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–∏ –∑–∞–¥–∞—á
- –ë–æ–Ω—É—Å—ã –∑–∞ —Å—Ç—Ä–∏–∫ –ø—Ä–∏–≤—ã—á–µ–∫ (–æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ 30 –¥–Ω–µ–π)
- –ú–Ω–æ–∂–∏—Ç–µ–ª–∏ –Ω–∞ –æ—Å–Ω–æ–≤–µ —ç–Ω–µ—Ä–≥–∏–∏
- –ë–æ–Ω—É—Å—ã –∑–∞ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –ø–æ –≤—Ä–µ–º–µ–Ω–∏
- –ü—Ä–æ–≥—Ä–µ—Å—Å–∏–≤–Ω—ã–µ —à—Ç—Ä–∞—Ñ—ã –∑–∞ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω—ã–µ –¥–Ω–∏ —Å–æ —à—Ç—Ä–∞—Ñ–∞–º–∏
- –†–∞–∑–¥–µ–ª—å–Ω—ã–µ —à—Ç—Ä–∞—Ñ—ã –¥–ª—è –∑–∞–¥–∞—á –∏ –ø—Ä–∏–≤—ã—á–µ–∫
- –¢–∏–ø—ã –ø—Ä–∏–≤—ã—á–µ–∫: –ù–∞–≤—ã–∫–∏ (–ø–æ–ª–Ω—ã–µ –ø–æ–∏–Ω—Ç—ã) vs –†—É—Ç–∏–Ω–∞ (50% –ø–æ–∏–Ω—Ç–æ–≤)
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –¥–Ω–µ–π –æ—Ç–¥—ã—Ö–∞ (–±–µ–∑ —à—Ç—Ä–∞—Ñ–æ–≤)

### –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏
- –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –ø–æ API –∫–ª—é—á—É
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Fail2ban –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
- –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö SQLite —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–º–∏ –º–∏–≥—Ä–∞—Ü–∏—è–º–∏
- –ê–¥–∞–ø—Ç–∏–≤–Ω—ã–π UI –≤ —Å—Ç–∏–ª–µ —Ç–µ—Ä–º–∏–Ω–∞–ª–∞
- –ú–æ–¥—É–ª—å –¥–ª—è –¥–µ–ø–ª–æ—è –Ω–∞ NixOS

---

## –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### Backend

```bash
cd backend
pip install -r requirements.txt

# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å API –∫–ª—é—á (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: "your-secret-key-change-me")
export TASK_MANAGER_API_KEY="your-secret-key"

# –ó–∞–ø—É—Å—Ç–∏—Ç—å —Å–µ—Ä–≤–µ—Ä
python -m backend.main
```

Backend –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –Ω–∞ `http://localhost:8000`

### Frontend

```bash
cd frontend
npm install

# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å API –∫–ª—é—á –∏ URL –≤ .env (–∏–ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∑–Ω–∞—á–µ–Ω–∏—è –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)
echo "VITE_API_KEY=your-secret-key" > .env
echo "VITE_API_URL=http://localhost:8000" >> .env

npm run dev
```

Frontend –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –Ω–∞ `http://localhost:5173`

### –ü–µ—Ä–≤—ã–π –∑–∞–ø—É—Å–∫

1. –û—Ç–∫—Ä–æ–π—Ç–µ `http://localhost:5173` –≤ –±—Ä–∞—É–∑–µ—Ä–µ
2. –°–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞—Å—Ç –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
3. –°–æ–∑–¥–∞–π—Ç–µ –ø–µ—Ä–≤—É—é –∑–∞–¥–∞—á—É –∏–ª–∏ –ø—Ä–∏–≤—ã—á–∫—É
4. –ù–∞–∂–º–∏—Ç–µ "Roll Daily Plan" –¥–ª—è –≤—ã–±–æ—Ä–∞ –∑–∞–¥–∞—á –Ω–∞ —Å–µ–≥–æ–¥–Ω—è
5. –í—ã–ø–æ–ª–Ω—è–π—Ç–µ –∑–∞–¥–∞—á–∏ –∏ –∑–∞—Ä–∞–±–∞—Ç—ã–≤–∞–π—Ç–µ –ø–æ–∏–Ω—Ç—ã!

---

## –í–Ω–µ—à–Ω–∏–π –¥–æ—Å—Ç—É–ø –∫ API

**üì± –•–æ—Ç–∏—Ç–µ –ø–æ–ª—É—á–∏—Ç—å –¥–æ—Å—Ç—É–ø –∫ API —Å –¥—Ä—É–≥–æ–≥–æ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ –∏–ª–∏ –∏–∑ —Å–µ—Ç–∏?**

–°–º–æ—Ç—Ä–∏—Ç–µ –ø–æ–¥—Ä–æ–±–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ: **[EXTERNAL_ACCESS.md](EXTERNAL_ACCESS.md)**

### –ë—ã—Å—Ç—Ä–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞

```bash
# 1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –±–µ–∑–æ–ø–∞—Å–Ω—ã–π API –∫–ª—é—á
export TASK_MANAGER_API_KEY="$(openssl rand -hex 32)"

# 2. –ò–∑–º–µ–Ω–∏—Ç–µ CORS –≤ backend/main.py (—Å—Ç—Ä–æ–∫–∞ 60)
allow_origins=["*"]  # –†–∞–∑—Ä–µ—à–∏—Ç—å –≤—Å–µ –∏—Å—Ç–æ—á–Ω–∏–∫–∏

# 3. –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–µ—Ä –Ω–∞ –≤—Å–µ—Ö –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞—Ö
./scripts/start-external.sh
```

### –ß—Ç–æ –≤–∫–ª—é—á–µ–Ω–æ –≤ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ

- ‚úÖ –ù–∞—Å—Ç—Ä–æ–π–∫–∞ CORS –¥–ª—è –≤–Ω–µ—à–Ω–µ–≥–æ –¥–æ—Å—Ç—É–ø–∞
- ‚úÖ –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è API (curl, Python, JavaScript, React Native)
- ‚úÖ –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Nginx reverse proxy –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞
- ‚úÖ Docker –∏ docker-compose –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
- ‚úÖ –î–æ—Å—Ç—É–ø –∏–∑ –ª–æ–∫–∞–ª—å–Ω–æ–π —Å–µ—Ç–∏ (LAN)
- ‚úÖ –î–æ—Å—Ç—É–ø —Å –º–æ–±–∏–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤
- ‚úÖ VPN –∏ Cloudflare Tunnel –¥–ª—è —É–¥–∞–ª—ë–Ω–Ω–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞
- ‚úÖ –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ (firewall, rate limiting, fail2ban)

### –ë—ã—Å—Ç—Ä–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

```bash
# –¢–µ—Å—Ç –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
./scripts/test-api.sh http://–≤–∞—à-ip:8000

# –ü—Ä–∏–º–µ—Ä API –∑–∞–ø—Ä–æ—Å–∞
curl -H "X-API-Key: –≤–∞—à-–∫–ª—é—á" http://–≤–∞—à-ip:8000/api/tasks
```

---

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
umtask/
‚îú‚îÄ‚îÄ backend/
‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îú‚îÄ‚îÄ main.py              # FastAPI –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∏ –≤—Å–µ API —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã
‚îÇ   ‚îú‚îÄ‚îÄ models.py            # –ú–æ–¥–µ–ª–∏ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö SQLAlchemy
‚îÇ   ‚îú‚îÄ‚îÄ schemas.py           # –°—Ö–µ–º—ã –≤–∞–ª–∏–¥–∞—Ü–∏–∏ Pydantic
‚îÇ   ‚îú‚îÄ‚îÄ crud.py              # –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞ –∏ —Ä–∞—Å—á—ë—Ç—ã
‚îÇ   ‚îú‚îÄ‚îÄ auth.py              # –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –ø–æ API –∫–ª—é—á—É
‚îÇ   ‚îú‚îÄ‚îÄ requirements.txt     # Python –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
‚îÇ   ‚îú‚îÄ‚îÄ migrate_db.py        # –°–∫—Ä–∏–ø—Ç –º–∏–≥—Ä–∞—Ü–∏–∏ –ë–î
‚îÇ   ‚îî‚îÄ‚îÄ tasks.db             # SQLite –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö (—Å–æ–∑–¥–∞—ë—Ç—Å—è –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞–ø—É—Å–∫–µ)
‚îÇ
‚îú‚îÄ‚îÄ frontend/
‚îÇ   ‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ components/
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ TaskForm.jsx         # –°–æ–∑–¥–∞–Ω–∏–µ/—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞–¥–∞—á
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ TaskList.jsx         # –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –∑–∞–¥–∞—á
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ HabitList.jsx        # –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –ø—Ä–∏–≤—ã—á–µ–∫
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Timer.jsx            # –¢–∞–π–º–µ—Ä –∑–∞–¥–∞—á–∏
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Settings.jsx         # –ù–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–∏—Å—Ç–µ–º—ã –ø–æ–∏–Ω—Ç–æ–≤
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ PointsDisplay.jsx    # –ü–æ–∏–Ω—Ç—ã –∏ –∏—Å—Ç–æ—Ä–∏—è
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ PointsGoals.jsx      # –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ü–µ–ª—è–º–∏
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ PointsCalculator.jsx # –ü—Ä–æ–≥–Ω–æ–∑—ã –Ω–∞ –±—É–¥—É—â–µ–µ
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ App.jsx          # –ì–ª–∞–≤–Ω—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ App.css          # –ì–ª–æ–±–∞–ª—å–Ω—ã–µ —Å—Ç–∏–ª–∏
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ api.js           # Axios API –∫–ª–∏–µ–Ω—Ç
‚îÇ   ‚îú‚îÄ‚îÄ index.html
‚îÇ   ‚îú‚îÄ‚îÄ package.json
‚îÇ   ‚îî‚îÄ‚îÄ vite.config.js
‚îÇ
‚îú‚îÄ‚îÄ deployment/
‚îÇ   ‚îú‚îÄ‚îÄ nixos-module.nix     # –ú–æ–¥—É–ª—å —Å–µ—Ä–≤–∏—Å–∞ –¥–ª—è NixOS
‚îÇ   ‚îú‚îÄ‚îÄ NIXOS-SETUP.md       # –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –¥–µ–ø–ª–æ—é –Ω–∞ NixOS
‚îÇ   ‚îî‚îÄ‚îÄ FAIL2BAN.md          # –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ Fail2ban
‚îÇ
‚îú‚îÄ‚îÄ scripts/
‚îÇ   ‚îú‚îÄ‚îÄ start-external.sh    # –°–∫—Ä–∏–ø—Ç –∑–∞–ø—É—Å–∫–∞ —Å –≤–Ω–µ—à–Ω–∏–º –¥–æ—Å—Ç—É–ø–æ–º
‚îÇ   ‚îú‚îÄ‚îÄ test-api.sh          # –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ API
‚îÇ   ‚îú‚îÄ‚îÄ taskmanager.service  # Systemd service —Ñ–∞–π–ª
‚îÇ   ‚îî‚îÄ‚îÄ nginx-taskmanager.conf # Nginx –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îÇ
‚îú‚îÄ‚îÄ .env.example             # –ü—Ä–∏–º–µ—Ä —Ñ–∞–π–ª–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è
‚îú‚îÄ‚îÄ EXTERNAL_ACCESS.md       # –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –≤–Ω–µ—à–Ω–µ–º—É –¥–æ—Å—Ç—É–ø—É
‚îî‚îÄ‚îÄ README.md                # –≠—Ç–æ—Ç —Ñ–∞–π–ª
```

---

## –°–∏—Å—Ç–µ–º–∞ –ø–æ–∏–Ω—Ç–æ–≤ v2.0 "Balanced Progress"

### –û–±–∑–æ—Ä

–°–∏—Å—Ç–µ–º–∞ –ø–æ–∏–Ω—Ç–æ–≤ v2.0 –≥–µ–π–º–∏—Ñ–∏—Ü–∏—Ä—É–µ—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –∑–∞–¥–∞—á —Å –Ω–∞–≥—Ä–∞–¥–∞–º–∏ –∑–∞ –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –∏ —Å–ø—Ä–∞–≤–µ–¥–ª–∏–≤—ã–º–∏ —à—Ç—Ä–∞—Ñ–∞–º–∏ –∑–∞ –±–µ–∑–¥–µ–π—Å—Ç–≤–∏–µ.

---

### –ó–∞—Ä–∞–±–æ—Ç–æ–∫ –ø–æ–∏–Ω—Ç–æ–≤ –∑–∞ –ó–ê–î–ê–ß–ò

```
Points = Base √ó EnergyMultiplier √ó TimeQualityFactor √ó FocusFactor
```

| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç | –§–æ—Ä–º—É–ª–∞ | –î–∏–∞–ø–∞–∑–æ–Ω |
|-----------|---------|----------|
| **Base** | `points_per_task_base` | 10 –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é |
| **EnergyMultiplier** | `energy_mult_base + (energy √ó energy_mult_step)` | 0.6 ‚Äî 1.6 |
| **TimeQualityFactor** | `min(actual_time / expected_time, 1.0)` | 0.5 ‚Äî 1.0 |
| **FocusFactor** | –ù–∞ –æ—Å–Ω–æ–≤–µ —Ç—Ä–µ–∫–∏–Ω–≥–∞ –≤—Ä–µ–º–µ–Ω–∏ | 0.8 ‚Äî 1.0 |

#### EnergyMultiplier

```
EnergyMult = 0.6 + (energy √ó 0.2)
```

| Energy | –ú–Ω–æ–∂–∏—Ç–µ–ª—å |
|--------|-----------|
| E0 | √ó0.6 |
| E1 | √ó0.8 |
| E2 | √ó1.0 |
| E3 | √ó1.2 |
| E4 | √ó1.4 |
| E5 | √ó1.6 |

#### TimeQualityFactor

```
expected_time = energy √ó minutes_per_energy_unit (default: 20 min)
TimeQuality = min(actual_time / expected_time, 1.0)
```

- –ú–∏–Ω–∏–º—É–º —Ä–∞–±–æ—Ç—ã: 2 –º–∏–Ω—É—Ç—ã (`min_work_time_seconds`)
- –ï—Å–ª–∏ actual < min_work_time: TimeQuality = 0.5

**–ü—Ä–∏–º–µ—Ä—ã:**
| –ó–∞–¥–∞—á–∞ | –†–∞—Å—á—ë—Ç | –ü–æ–∏–Ω—Ç—ã |
|--------|--------|--------|
| E3, –Ω–æ—Ä–º–∞–ª—å–Ω–æ–µ –≤—Ä–µ–º—è | 10 √ó 1.2 √ó 1.0 √ó 1.0 | **12** |
| E5, –±—ã—Å—Ç—Ä–æ —Å–¥–µ–ª–∞–ª | 10 √ó 1.6 √ó 1.0 √ó 1.0 | **16** |
| E1, —Å–ª–∏—à–∫–æ–º –±—ã—Å—Ç—Ä–æ (<2 min) | 10 √ó 0.8 √ó 0.5 √ó 1.0 | **4** |

---

### –ó–∞—Ä–∞–±–æ—Ç–æ–∫ –ø–æ–∏–Ω—Ç–æ–≤ –∑–∞ –ü–†–ò–í–´–ß–ö–ò

#### Skill (–Ω–∞–≤—ã–∫–∏)

```
Points = Base √ó (1 + log‚ÇÇ(streak + 1) √ó streak_log_factor)
```

| Streak | –ú–Ω–æ–∂–∏—Ç–µ–ª—å (factor=0.15) |
|--------|-------------------------|
| 0 | √ó1.00 |
| 5 | √ó1.39 |
| 10 | √ó1.52 |
| 30 | √ó1.74 |
| 100 | √ó2.00 |

**–ü—Ä–∏–º–µ—Ä—ã:**
- Streak 0: 10 √ó 1.0 = **10 pts**
- Streak 10: 10 √ó 1.52 = **15 pts**
- Streak 30: 10 √ó 1.74 = **17 pts**

#### Routine (—Ä—É—Ç–∏–Ω–∞)

```
Points = routine_points_fixed (default: 6)
```

- –§–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ø–æ–∏–Ω—Ç—ã
- –ë–µ–∑ –±–æ–Ω—É—Å–∞ –∑–∞ streak
- –ü—Ä–∏–º–µ—Ä—ã: —á–∏—Å—Ç–∫–∞ –∑—É–±–æ–≤, –¥—É—à, –∑–∞—Å—Ç–µ–ª–∏—Ç—å –∫—Ä–æ–≤–∞—Ç—å

---

### –î–Ω–µ–≤–Ω–æ–π –±–æ–Ω—É—Å

| –£—Å–ª–æ–≤–∏–µ | –ë–æ–Ω—É—Å |
|---------|-------|
| 100% completion | +10% –æ—Ç –∑–∞—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã—Ö –ø–æ–∏–Ω—Ç–æ–≤ |
| 80%+ completion | +5% –æ—Ç –∑–∞—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã—Ö –ø–æ–∏–Ω—Ç–æ–≤ |
| <80% completion | 0 |

---

### –®—Ç—Ä–∞—Ñ—ã

#### 1. Idle Penalty (–±–µ–∑–¥–µ–π—Å—Ç–≤–∏–µ)

–ü—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è –µ—Å–ª–∏ **–ò** 0 tasks **–ò** 0 habits –≤—ã–ø–æ–ª–Ω–µ–Ω–æ:
```
–®—Ç—Ä–∞—Ñ = idle_penalty (default: 30)
```

#### 2. Incomplete Day Penalty (–Ω–µ–∑–∞–≤–µ—Ä—à—ë–Ω–Ω—ã–π –¥–µ–Ω—å)

```
–®—Ç—Ä–∞—Ñ = missed_potential √ó incomplete_penalty_percent (default: 50%)
```

–î–ª—è –∫–∞–∂–¥–æ–≥–æ –Ω–µ–∑–∞–≤–µ—Ä—à—ë–Ω–Ω–æ–≥–æ —Ç–∞—Å–∫–∞:
```
potential = Base √ó EnergyMultiplier
```

| –ü—Ä–æ–ø—É—â–µ–Ω–æ | –ü–æ—Ç–µ–Ω—Ü–∏–∞–ª | –®—Ç—Ä–∞—Ñ (50%) |
|-----------|-----------|-------------|
| 1 √ó E1 | 8 | **4** |
| 1 √ó E3 | 12 | **6** |
| 3 √ó E3 | 36 | **18** |

#### 3. Missed Habits Penalty (–ø—Ä–æ–ø—É—â–µ–Ω–Ω—ã–µ –ø—Ä–∏–≤—ã—á–∫–∏)

| –¢–∏–ø | –®—Ç—Ä–∞—Ñ |
|-----|-------|
| Skill | `missed_habit_penalty_base` (default: 15) |
| Routine | 50% –æ—Ç base (~8) |

#### 4. Progressive Penalty (–ø—Ä–æ–≥—Ä–µ—Å—Å–∏–≤–Ω—ã–π –º–Ω–æ–∂–∏—Ç–µ–ª—å)

–®—Ç—Ä–∞—Ñ—ã —É–≤–µ–ª–∏—á–∏–≤–∞—é—Ç—Å—è –ø—Ä–∏ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω—ã—Ö –¥–Ω—è—Ö —Å–æ —à—Ç—Ä–∞—Ñ–∞–º–∏:

```
Multiplier = 1 + min(penalty_streak √ó 0.1, 0.5)
```

| –î–µ–Ω—å —à—Ç—Ä–∞—Ñ–∞ | –ú–Ω–æ–∂–∏—Ç–µ–ª—å |
|-------------|-----------|
| 1 | √ó1.1 |
| 2 | √ó1.2 |
| 3 | √ó1.3 |
| 4 | √ó1.4 |
| 5+ | √ó1.5 (cap) |

**–°–±—Ä–æ—Å:** –ü–æ—Å–ª–µ 2 –¥–Ω–µ–π –±–µ–∑ —à—Ç—Ä–∞—Ñ–æ–≤ (`penalty_streak_reset_days`)

---

### –ü–æ–ª–Ω—ã–π –ø—Ä–∏–º–µ—Ä –¥–Ω—è

**–°—Ü–µ–Ω–∞—Ä–∏–π:** 4 —Ç–∞—Å–∫–∞ E3 –∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–æ, –≤—ã–ø–æ–ª–Ω–µ–Ω–æ 3, 2 skill habits (streak 5)

| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç | –†–∞—Å—á—ë—Ç | –ü–æ–∏–Ω—Ç—ã |
|-----------|--------|--------|
| Task 1 (E3) | 10 √ó 1.2 | +12 |
| Task 2 (E3) | 10 √ó 1.2 | +12 |
| Task 3 (E3) | 10 √ó 1.2 | +12 |
| Habit 1 (streak 5) | 10 √ó 1.39 | +14 |
| Habit 2 (streak 5) | 10 √ó 1.39 | +14 |
| **Earned** | | **64** |
| Completion bonus | 75% < 80% | 0 |
| Incomplete | 1 √ó E3 missed ‚Üí 12 √ó 50% | -6 |
| **Daily total** | 64 - 6 | **+58** |

### –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –∑–∞–¥–∞—á

–ó–∞–¥–∞—á–∏ –º–æ–≥—É—Ç –∑–∞–≤–∏—Å–µ—Ç—å –æ—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –¥—Ä—É–≥–∏—Ö –∑–∞–¥–∞—á.

**–ü–æ–≤–µ–¥–µ–Ω–∏–µ –∞–ª–≥–æ—Ä–∏—Ç–º–∞ Roll:**
1. **–ü—Ä–æ—Ö–æ–¥ 1**: –í—ã–±–∏—Ä–∞–µ—Ç –∑–∞–¥–∞—á–∏ —Å –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–º–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è–º–∏ (–∏–ª–∏ –±–µ–∑ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π)
2. **–ü—Ä–æ—Ö–æ–¥ 2**: –ï—Å–ª–∏ –æ—Å—Ç–∞–ª–∏—Å—å —Å–ª–æ—Ç—ã, –≤—ã–±–∏—Ä–∞–µ—Ç –∑–∞–¥–∞—á–∏, —á—å—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å –≤ –ø–ª–∞–Ω–µ –Ω–∞ —Å–µ–≥–æ–¥–Ω—è
3. –ó–∞–≤–∏—Å–∏–º—ã–µ –∑–∞–¥–∞—á–∏ –º–æ–∂–Ω–æ –≤—ã–ø–æ–ª–Ω–∏—Ç—å —Å–µ–≥–æ–¥–Ω—è –ø–æ—Å–ª–µ –∏—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

**–ü—Ä–∏–º–µ—Ä:**
- –ó–∞–¥–∞—á–∞ A: "–ò–∑—É—á–∏—Ç—å React" (–Ω–µ—Ç –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏)
- –ó–∞–¥–∞—á–∞ B: "–ü–æ—Å—Ç—Ä–æ–∏—Ç—å –ø—Ä–æ–µ–∫—Ç –Ω–∞ React" (–∑–∞–≤–∏—Å–∏—Ç –æ—Ç A)
- Roll –≤—ã–±–∏—Ä–∞–µ—Ç A ‚Üí B —Ç–∞–∫–∂–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –≤—ã–±—Ä–∞–Ω–∞ (–æ–±–µ –≤ –ø–ª–∞–Ω–µ –Ω–∞ —Å–µ–≥–æ–¥–Ω—è)

### –¢–∏–ø—ã –ø—Ä–∏–≤—ã—á–µ–∫

**–ù–∞–≤—ã–∫–∏** (habit_type='skill'):
- –ù–æ–≤—ã–µ –ø—Ä–∏–≤—ã—á–∫–∏, –∫–æ—Ç–æ—Ä—ã–µ –≤—ã —Å—Ç—Ä–æ–∏—Ç–µ
- –ü–æ–ª–Ω—ã–µ –ø–æ–∏–Ω—Ç—ã –∏ —à—Ç—Ä–∞—Ñ—ã
- –ü—Ä–∏–º–µ—Ä—ã: –£–ø—Ä–∞–∂–Ω–µ–Ω–∏—è, –º–µ–¥–∏—Ç–∞—Ü–∏—è, –æ–±—É—á–µ–Ω–∏–µ

**–†—É—Ç–∏–Ω–∞** (habit_type='routine'):
- –õ—ë–≥–∫–∏–µ –µ–∂–µ–¥–Ω–µ–≤–Ω—ã–µ –∑–∞–¥–∞—á–∏
- 50% –ø–æ–∏–Ω—Ç–æ–≤ –∏ —à—Ç—Ä–∞—Ñ–æ–≤ (–Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è)
- –ü—Ä–∏–º–µ—Ä—ã: –ü–æ—á–∏—Å—Ç–∏—Ç—å –∑—É–±—ã, –∑–∞—Å—Ç–µ–ª–∏—Ç—å –∫—Ä–æ–≤–∞—Ç—å, –¥—É—à

### –î–Ω–∏ –æ—Ç–¥—ã—Ö–∞

–°–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ –¥–∞—Ç—ã –±–µ–∑ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è —à—Ç—Ä–∞—Ñ–æ–≤:
- –°–æ–∑–¥–∞–Ω–∏–µ —á–µ—Ä–µ–∑ API: `POST /api/rest-days`
- –ü—Ä–∏–º–µ—Ä—ã: –ü—Ä–∞–∑–¥–Ω–∏–∫–∏, –¥–Ω–∏ –æ—Ç–ø—É—Å–∫–∞, –±–æ–ª—å–Ω–∏—á–Ω—ã–µ
- –ü–æ–∏–Ω—Ç—ã –Ω–∞—á–∏—Å–ª—è—é—Ç—Å—è –Ω–æ—Ä–º–∞–ª—å–Ω–æ, –Ω–æ —à—Ç—Ä–∞—Ñ–æ–≤ –Ω–µ—Ç

---

## –°–ø—Ä–∞–≤–æ—á–Ω–∏–∫ API

–í—Å–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã —Ç—Ä–µ–±—É—é—Ç –∑–∞–≥–æ–ª–æ–≤–æ–∫ `X-API-Key` —Å –≤–∞—à–∏–º API –∫–ª—é—á–æ–º.

### –ó–∞–¥–∞—á–∏

#### –ü–æ–ª—É—á–∏—Ç—å –≤—Å–µ –∑–∞–¥–∞—á–∏
```http
GET /api/tasks
```

–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –≤—Å–µ –∑–∞–¥–∞—á–∏ —Å —Ä–∞—Å—Å—á–∏—Ç–∞–Ω–Ω–æ–π —Å—Ä–æ—á–Ω–æ—Å—Ç—å—é.

#### –ü–æ–ª—É—á–∏—Ç—å –æ–∂–∏–¥–∞—é—â–∏–µ –∑–∞–¥–∞—á–∏
```http
GET /api/tasks/pending
```

–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –æ–∂–∏–¥–∞—é—â–∏–µ –∑–∞–¥–∞—á–∏, –æ—Ç—Å–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ø–æ —Å—Ä–æ—á–Ω–æ—Å—Ç–∏ (—Å–Ω–∞—á–∞–ª–∞ –≤—ã—Å–æ–∫–∞—è).

#### –ü–æ–ª—É—á–∏—Ç—å —Ç–µ–∫—É—â—É—é –∑–∞–¥–∞—á—É
```http
GET /api/tasks/current
```

–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ç–µ–∫—É—â—É—é –∞–∫—Ç–∏–≤–Ω—É—é –∑–∞–¥–∞—á—É –∏–ª–∏ —Å–ª–µ–¥—É—é—â—É—é –∑–∞–¥–∞—á—É, –µ—Å–ª–∏ –Ω–µ—Ç –∞–∫—Ç–∏–≤–Ω–æ–π.

#### –ü–æ–ª—É—á–∏—Ç—å —Å–µ–≥–æ–¥–Ω—è—à–Ω–∏–µ –ø—Ä–∏–≤—ã—á–∫–∏
```http
GET /api/tasks/habits
```

–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –≤—Å–µ –ø—Ä–∏–≤—ã—á–∫–∏ –Ω–∞ —Å–µ–≥–æ–¥–Ω—è.

#### –ü–æ–ª—É—á–∏—Ç—å —Å–µ–≥–æ–¥–Ω—è—à–Ω–∏–µ –∑–∞–¥–∞—á–∏
```http
GET /api/tasks/today
```

–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –≤—Å–µ –∑–∞–¥–∞—á–∏, –æ—Ç–º–µ—á–µ–Ω–Ω—ã–µ –Ω–∞ —Å–µ–≥–æ–¥–Ω—è (is_today=true).

#### –ü–æ–ª—É—á–∏—Ç—å –∫–æ–Ω–∫—Ä–µ—Ç–Ω—É—é –∑–∞–¥–∞—á—É
```http
GET /api/tasks/{task_id}
```

–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∑–∞–¥–∞—á—É –ø–æ ID.

#### –°–æ–∑–¥–∞—Ç—å –∑–∞–¥–∞—á—É
```http
POST /api/tasks
Content-Type: application/json

{
  "description": "–û–ø–∏—Å–∞–Ω–∏–µ –∑–∞–¥–∞—á–∏",
  "project": "–ù–∞–∑–≤–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞",
  "priority": 5,
  "energy": 3,
  "is_habit": false,
  "is_today": false,
  "due_date": "2024-01-15T00:00:00",
  "depends_on": null,
  "habit_type": "skill",
  "recurrence_type": "none"
}
```

**–ü–æ–ª—è:**
- `description` (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ): –û–ø–∏—Å–∞–Ω–∏–µ –∑–∞–¥–∞—á–∏
- `project`: –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞
- `priority`: 0-10, –≤–ª–∏—è–µ—Ç –Ω–∞ —Ä–∞—Å—á—ë—Ç —Å—Ä–æ—á–Ω–æ—Å—Ç–∏
- `energy`: 0-5, –≤–ª–∏—è–µ—Ç –Ω–∞ –ø–æ–∏–Ω—Ç—ã –∏ —Å—Ä–æ—á–Ω–æ—Å—Ç—å
- `is_habit`: –≠—Ç–æ –ø—Ä–∏–≤—ã—á–∫–∞?
- `is_today`: –ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞—Ç—å –Ω–∞ —Å–µ–≥–æ–¥–Ω—è?
- `due_date`: ISO datetime (–≤—Ä–µ–º—è –∏–≥–Ω–æ—Ä–∏—Ä—É–µ—Ç—Å—è, —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è –ø–æ–ª–Ω–æ—á—å)
- `depends_on`: ID –∑–∞–¥–∞—á–∏, –æ—Ç –∫–æ—Ç–æ—Ä–æ–π –∑–∞–≤–∏—Å–∏—Ç —ç—Ç–∞ (—Ç–æ–ª—å–∫–æ –∑–∞–¥–∞—á–∏)
- `habit_type`: "skill" –∏–ª–∏ "routine" (—Ç–æ–ª—å–∫–æ –ø—Ä–∏–≤—ã—á–∫–∏)
- `recurrence_type`: "none", "daily", "every_n_days", "weekly" (—Ç–æ–ª—å–∫–æ –ø—Ä–∏–≤—ã—á–∫–∏)

#### –û–±–Ω–æ–≤–∏—Ç—å –∑–∞–¥–∞—á—É
```http
PUT /api/tasks/{task_id}
Content-Type: application/json

{
  "description": "–û–±–Ω–æ–≤–ª—ë–Ω–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ",
  "priority": 7
}
```

#### –£–¥–∞–ª–∏—Ç—å –∑–∞–¥–∞—á—É
```http
DELETE /api/tasks/{task_id}
```

### –î–µ–π—Å—Ç–≤–∏—è —Å –∑–∞–¥–∞—á–∞–º–∏

#### –ù–∞—á–∞—Ç—å –∑–∞–¥–∞—á—É
```http
POST /api/tasks/start?task_id=123
```

–ù–∞—á–∏–Ω–∞–µ—Ç —É–∫–∞–∑–∞–Ω–Ω—É—é –∑–∞–¥–∞—á—É (–∏–ª–∏ —Å–ª–µ–¥—É—é—â—É—é, –µ—Å–ª–∏ ID –Ω–µ —É–∫–∞–∑–∞–Ω). –û—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –ª—é–±—É—é –∞–∫—Ç–∏–≤–Ω—É—é –∑–∞–¥–∞—á—É.

#### –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–∞–¥–∞—á—É
```http
POST /api/tasks/stop
```

–û—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç —Ç–µ–∫—É—â—É—é –∞–∫—Ç–∏–≤–Ω—É—é –∑–∞–¥–∞—á—É.

#### –ó–∞–≤–µ—Ä—à–∏—Ç—å –∑–∞–¥–∞—á—É
```http
POST /api/tasks/done?task_id=123
```

–ó–∞–≤–µ—Ä—à–∞–µ—Ç —É–∫–∞–∑–∞–Ω–Ω—É—é –∑–∞–¥–∞—á—É (–∏–ª–∏ —Ç–µ–∫—É—â—É—é, –µ—Å–ª–∏ ID –Ω–µ —É–∫–∞–∑–∞–Ω). –ù–∞—á–∏—Å–ª—è–µ—Ç –ø–æ–∏–Ω—Ç—ã.

#### Roll –µ–∂–µ–¥–Ω–µ–≤–Ω–æ–≥–æ –ø–ª–∞–Ω–∞
```http
POST /api/tasks/roll?mood=3&daily_limit=5&critical_days=2
```

–ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –µ–∂–µ–¥–Ω–µ–≤–Ω—ã–π –ø–ª–∞–Ω –∑–∞–¥–∞—á. –î–æ–ª–∂–µ–Ω –≤—ã–∑—ã–≤–∞—Ç—å—Å—è –æ–¥–∏–Ω —Ä–∞–∑ –≤ –¥–µ–Ω—å.

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `mood` (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ): 0-5, —Ñ–∏–ª—å—Ç—Ä—É–µ—Ç –∑–∞–¥–∞—á–∏ –ø–æ —É—Ä–æ–≤–Ω—é —ç–Ω–µ—Ä–≥–∏–∏
- `daily_limit`: –ú–∞–∫—Å–∏–º—É–º –∑–∞–¥–∞—á –¥–ª—è –≤—ã–±–æ—Ä–∞ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: 5)
- `critical_days`: –î–Ω–∏ –¥–æ –¥–µ–¥–ª–∞–π–Ω–∞ –¥–ª—è –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –∑–∞–¥–∞—á (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: 2)

**–ê–ª–≥–æ—Ä–∏—Ç–º:**
1. –£–¥–∞–ª—è–µ—Ç –ø—Ä–æ—Å—Ä–æ—á–µ–Ω–Ω—ã–µ –ø—Ä–∏–≤—ã—á–∫–∏ —Å –ø—Ä–µ–¥—ã–¥—É—â–∏—Ö –¥–Ω–µ–π
2. –û—á–∏—â–∞–µ—Ç —Ñ–ª–∞–≥ is_today —Å–æ –≤—Å–µ—Ö –æ–±—ã—á–Ω—ã—Ö –∑–∞–¥–∞—á
3. –í—ã–±–∏—Ä–∞–µ—Ç –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –∑–∞–¥–∞—á–∏ (—Å—Ä–æ–∫ –≤ —Ç–µ—á–µ–Ω–∏–µ critical_days)
4. –ó–∞–ø–æ–ª–Ω—è–µ—Ç –æ—Å—Ç–∞–≤—à–∏–µ—Å—è —Å–ª–æ—Ç—ã –∑–∞–¥–∞—á–∞–º–∏ —Å –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–º–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è–º–∏
5. –ï—Å–ª–∏ –æ—Å—Ç–∞–ª–∏—Å—å —Å–ª–æ—Ç—ã, –¥–æ–±–∞–≤–ª—è–µ—Ç –∑–∞–¥–∞—á–∏, —á—å—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å –≤ –ø–ª–∞–Ω–µ –Ω–∞ —Å–µ–≥–æ–¥–Ω—è
6. –†–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ—Ç —à—Ç—Ä–∞—Ñ—ã –∑–∞ –≤—á–µ—Ä–∞
7. –û–±–Ω–æ–≤–ª—è–µ—Ç last_roll_date

### –ü–æ–∏–Ω—Ç—ã

#### –ü–æ–ª—É—á–∏—Ç—å —Ç–µ–∫—É—â–∏–µ –ø–æ–∏–Ω—Ç—ã
```http
GET /api/points/current
```

–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –æ–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –Ω–∞–∫–æ–ø–ª–µ–Ω–Ω—ã—Ö –ø–æ–∏–Ω—Ç–æ–≤.

#### –ü–æ–ª—É—á–∏—Ç—å –∏—Å—Ç–æ—Ä–∏—é –ø–æ–∏–Ω—Ç–æ–≤
```http
GET /api/points/history?days=7
```

–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∏—Å—Ç–æ—Ä–∏—é –ø–æ–∏–Ω—Ç–æ–≤ –ø–æ –¥–Ω—è–º.

**–û—Ç–≤–µ—Ç:**
```json
[
  {
    "id": 1,
    "date": "2024-01-15",
    "points_earned": 45,
    "points_penalty": 20,
    "daily_total": 25,
    "tasks_completed": 3,
    "tasks_planned": 5,
    "habits_completed": 2,
    "completion_rate": 0.6,
    "penalty_streak": 1
  }
]
```

#### –ü–æ–ª—É—á–∏—Ç—å –ø—Ä–æ–≥–Ω–æ–∑ –ø–æ–∏–Ω—Ç–æ–≤
```http
GET /api/points/projection?target_date=2024-12-31
```

–ü—Ä–æ–≥–Ω–æ–∑–∏—Ä—É–µ—Ç –±—É–¥—É—â–∏–µ –ø–æ–∏–Ω—Ç—ã –Ω–∞ –æ—Å–Ω–æ–≤–µ —Å—Ä–µ–¥–Ω–µ–≥–æ –∑–∞ –ø–æ—Å–ª–µ–¥–Ω–∏–µ 30 –¥–Ω–µ–π.

**–û—Ç–≤–µ—Ç:**
```json
{
  "current_total": 500,
  "target_date": "2024-12-31",
  "days_until": 90,
  "avg_per_day": 10,
  "min_projection": 1130,
  "avg_projection": 1400,
  "max_projection": 1670
}
```

–ü—Ä–æ–≥–Ω–æ–∑—ã:
- **–ú–∏–Ω–∏–º—É–º**: 70% –æ—Ç —Å—Ä–µ–¥–Ω–µ–≥–æ (–ø–µ—Å—Å–∏–º–∏—Å—Ç–∏—á–Ω—ã–π)
- **–°—Ä–µ–¥–Ω–∏–π**: –¢–µ–∫—É—â–∏–π —Å—Ä–µ–¥–Ω–∏–π (—Ä–µ–∞–ª–∏—Å—Ç–∏—á–Ω—ã–π)
- **–ú–∞–∫—Å–∏–º—É–º**: 130% –æ—Ç —Å—Ä–µ–¥–Ω–µ–≥–æ (–æ–ø—Ç–∏–º–∏—Å—Ç–∏—á–Ω—ã–π)

### –¶–µ–ª–∏

#### –ü–æ–ª—É—á–∏—Ç—å —Ü–µ–ª–∏
```http
GET /api/goals?include_achieved=false
```

–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∞–∫—Ç–∏–≤–Ω—ã–µ —Ü–µ–ª–∏ (–∏–ª–∏ –≤—Å–µ, –µ—Å–ª–∏ include_achieved=true).

#### –°–æ–∑–¥–∞—Ç—å —Ü–µ–ª—å
```http
POST /api/goals
Content-Type: application/json

{
  "target_points": 1000,
  "reward_description": "–ö—É–ø–∏—Ç—å –Ω–æ–≤—ã–π –Ω–æ—É—Ç–±—É–∫",
  "deadline": "2024-12-31"
}
```

#### –û–±–Ω–æ–≤–∏—Ç—å —Ü–µ–ª—å
```http
PUT /api/goals/{goal_id}
Content-Type: application/json

{
  "reward_description": "–û–±–Ω–æ–≤–ª—ë–Ω–Ω–æ–µ –≤–æ–∑–Ω–∞–≥—Ä–∞–∂–¥–µ–Ω–∏–µ"
}
```

–¶–µ–ª–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ—Ç–º–µ—á–∞—é—Ç—Å—è –∫–∞–∫ –¥–æ—Å—Ç–∏–≥–Ω—É—Ç—ã–µ, –∫–æ–≥–¥–∞ –ø–æ–∏–Ω—Ç—ã –¥–æ—Å—Ç–∏–≥–∞—é—Ç —Ü–µ–ª–∏.

#### –£–¥–∞–ª–∏—Ç—å —Ü–µ–ª—å
```http
DELETE /api/goals/{goal_id}
```

### –î–Ω–∏ –æ—Ç–¥—ã—Ö–∞

#### –ü–æ–ª—É—á–∏—Ç—å –¥–Ω–∏ –æ—Ç–¥—ã—Ö–∞
```http
GET /api/rest-days
```

–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –≤—Å–µ –¥–Ω–∏ –æ—Ç–¥—ã—Ö–∞ (–±—É–¥—É—â–∏–µ –∏ –ø—Ä–æ—à–ª—ã–µ).

#### –°–æ–∑–¥–∞—Ç—å –¥–µ–Ω—å –æ—Ç–¥—ã—Ö–∞
```http
POST /api/rest-days
Content-Type: application/json

{
  "date": "2024-12-25",
  "description": "–†–æ–∂–¥–µ—Å—Ç–≤–æ"
}
```

#### –£–¥–∞–ª–∏—Ç—å –¥–µ–Ω—å –æ—Ç–¥—ã—Ö–∞
```http
DELETE /api/rest-days/{rest_day_id}
```

### –ù–∞—Å—Ç—Ä–æ–π–∫–∏

#### –ü–æ–ª—É—á–∏—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
```http
GET /api/settings
```

–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ç–µ–∫—É—â–∏–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–∏—Å—Ç–µ–º—ã –ø–æ–∏–Ω—Ç–æ–≤.

#### –û–±–Ω–æ–≤–∏—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
```http
PUT /api/settings
Content-Type: application/json

{
  "points_per_task_base": 15,
  "idle_tasks_penalty": 30
}
```

### –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞

#### –ü–æ–ª—É—á–∏—Ç—å –¥–Ω–µ–≤–Ω—É—é —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É
```http
GET /api/stats
```

–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –∑–∞ —Ç–µ–∫—É—â–∏–π –¥–µ–Ω—å.

**–û—Ç–≤–µ—Ç:**
```json
{
  "pending_tasks": 5,
  "completed_tasks": 3,
  "active_habits": 8,
  "completed_habits": 5,
  "total_time": 3600,
  "current_points": 500
}
```

---

## –°–ø—Ä–∞–≤–æ—á–Ω–∏–∫ –Ω–∞—Å—Ç—Ä–æ–µ–∫ v2.0

–í—Å–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞—é—Ç—Å—è —á–µ—Ä–µ–∑ —Å—Ç—Ä–∞–Ω–∏—Ü—É Settings –≤ UI –∏–ª–∏ —á–µ—Ä–µ–∑ API.

### –ë–∞–∑–æ–≤—ã–µ –ø–æ–∏–Ω—Ç—ã

| –ù–∞—Å—Ç—Ä–æ–π–∫–∞ | –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é | –û–ø–∏—Å–∞–Ω–∏–µ |
|-----------|--------------|----------|
| `points_per_task_base` | 10 | –ë–∞–∑–æ–≤—ã–µ –ø–æ–∏–Ω—Ç—ã –∑–∞ –∑–∞–¥–∞—á—É |
| `points_per_habit_base` | 10 | –ë–∞–∑–æ–≤—ã–µ –ø–æ–∏–Ω—Ç—ã –∑–∞ skill habit |
| `routine_points_fixed` | 6 | –§–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ø–æ–∏–Ω—Ç—ã –∑–∞ routine habit |

### Energy Multiplier

| –ù–∞—Å—Ç—Ä–æ–π–∫–∞ | –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é | –û–ø–∏—Å–∞–Ω–∏–µ |
|-----------|--------------|----------|
| `energy_mult_base` | 0.6 | –ë–∞–∑–æ–≤—ã–π –º–Ω–æ–∂–∏—Ç–µ–ª—å (–ø—Ä–∏ E0) |
| `energy_mult_step` | 0.2 | –®–∞–≥ –∑–∞ –∫–∞–∂–¥—ã–π —É—Ä–æ–≤–µ–Ω—å —ç–Ω–µ—Ä–≥–∏–∏ |

–§–æ—Ä–º—É–ª–∞: `EnergyMult = base + (energy √ó step)` ‚Üí 0.6 ‚Äî 1.6

### Time Quality

| –ù–∞—Å—Ç—Ä–æ–π–∫–∞ | –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é | –û–ø–∏—Å–∞–Ω–∏–µ |
|-----------|--------------|----------|
| `minutes_per_energy_unit` | 20 | –û–∂–∏–¥–∞–µ–º—ã–µ –º–∏–Ω—É—Ç—ã –Ω–∞ —É—Ä–æ–≤–µ–Ω—å —ç–Ω–µ—Ä–≥–∏–∏ |
| `min_work_time_seconds` | 120 | –ú–∏–Ω–∏–º–∞–ª—å–Ω–æ–µ –≤—Ä–µ–º—è —Ä–∞–±–æ—Ç—ã (2 –º–∏–Ω) |

–§–æ—Ä–º—É–ª–∞: `expected_time = energy √ó minutes_per_energy_unit`

### Streak Bonus (Skill Habits)

| –ù–∞—Å—Ç—Ä–æ–π–∫–∞ | –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é | –û–ø–∏—Å–∞–Ω–∏–µ |
|-----------|--------------|----------|
| `streak_log_factor` | 0.15 | –§–∞–∫—Ç–æ—Ä –¥–ª—è log‚ÇÇ —Ñ–æ—Ä–º—É–ª—ã |

–§–æ—Ä–º—É–ª–∞: `StreakBonus = 1 + log‚ÇÇ(streak + 1) √ó factor`

### Daily Completion Bonus

| –ù–∞—Å—Ç—Ä–æ–π–∫–∞ | –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é | –û–ø–∏—Å–∞–Ω–∏–µ |
|-----------|--------------|----------|
| `completion_bonus_full` | 0.10 | +10% –∑–∞ 100% completion |
| `completion_bonus_good` | 0.05 | +5% –∑–∞ 80%+ completion |

### –®—Ç—Ä–∞—Ñ—ã

| –ù–∞—Å—Ç—Ä–æ–π–∫–∞ | –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é | –û–ø–∏—Å–∞–Ω–∏–µ |
|-----------|--------------|----------|
| `idle_penalty` | 30 | –®—Ç—Ä–∞—Ñ –∑–∞ 0 tasks –ò 0 habits |
| `incomplete_penalty_percent` | 0.5 | 50% –æ—Ç —É–ø—É—â–µ–Ω–Ω–æ–≥–æ –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª–∞ |
| `missed_habit_penalty_base` | 15 | –®—Ç—Ä–∞—Ñ –∑–∞ –ø—Ä–æ–ø—É—Å–∫ skill habit |
| `progressive_penalty_factor` | 0.1 | –®–∞–≥ –º–Ω–æ–∂–∏—Ç–µ–ª—è –∑–∞ –¥–µ–Ω—å —à—Ç—Ä–∞—Ñ–æ–≤ |
| `progressive_penalty_max` | 1.5 | –ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π –º–Ω–æ–∂–∏—Ç–µ–ª—å |
| `penalty_streak_reset_days` | 2 | –î–Ω–∏ –±–µ–∑ —à—Ç—Ä–∞—Ñ–∞ –¥–ª—è —Å–±—Ä–æ—Å–∞ |

### Day Boundary (–¥–ª—è —Å–¥–≤–∏–Ω—É—Ç–æ–≥–æ —Ä–µ–∂–∏–º–∞)

| –ù–∞—Å—Ç—Ä–æ–π–∫–∞ | –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é | –û–ø–∏—Å–∞–Ω–∏–µ |
|-----------|--------------|----------|
| `day_start_enabled` | false | –í–∫–ª—é—á–∏—Ç—å –∫–∞—Å—Ç–æ–º–Ω–æ–µ –Ω–∞—á–∞–ª–æ –¥–Ω—è |
| `day_start_time` | "06:00" | –í—Ä–µ–º—è –Ω–∞—á–∞–ª–∞ –Ω–æ–≤–æ–≥–æ –¥–Ω—è |

–ü—Ä–∏–º–µ—Ä: –µ—Å–ª–∏ `day_start_time = "06:00"`, —Ç–æ –≤ 03:00 –≤—Å—ë –µ—â—ë "–≤—á–µ—Ä–∞"

### –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è

| –ù–∞—Å—Ç—Ä–æ–π–∫–∞ | –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é | –û–ø–∏—Å–∞–Ω–∏–µ |
|-----------|--------------|----------|
| `roll_available_time` | "00:00" | –ö–æ–≥–¥–∞ –¥–æ—Å—Ç—É–ø–µ–Ω Roll |
| `auto_roll_enabled` | false | –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π Roll |
| `auto_roll_time` | "06:00" | –í—Ä–µ–º—è –∞–≤—Ç–æ-Roll |
| `auto_penalties_enabled` | true | –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Ä–∞—Å—á—ë—Ç —à—Ç—Ä–∞—Ñ–æ–≤ |
| `penalty_time` | "00:01" | –í—Ä–µ–º—è —Ä–∞—Å—á—ë—Ç–∞ —à—Ç—Ä–∞—Ñ–æ–≤ |

### –ë—ç–∫–∞–ø—ã

| –ù–∞—Å—Ç—Ä–æ–π–∫–∞ | –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é | –û–ø–∏—Å–∞–Ω–∏–µ |
|-----------|--------------|----------|
| `auto_backup_enabled` | true | –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –±—ç–∫–∞–ø—ã |
| `backup_time` | "03:00" | –í—Ä–µ–º—è –∞–≤—Ç–æ-–±—ç–∫–∞–ø–∞ |
| `backup_interval_days` | 1 | –ò–Ω—Ç–µ—Ä–≤–∞–ª –º–µ–∂–¥—É –±—ç–∫–∞–ø–∞–º–∏ |
| `backup_keep_local_count` | 10 | –•—Ä–∞–Ω–∏—Ç—å –ø–æ—Å–ª–µ–¥–Ω–∏–µ N –±—ç–∫–∞–ø–æ–≤ |
| `google_drive_enabled` | false | –ó–∞–≥—Ä—É–∑–∫–∞ –≤ Google Drive |

---

## –ú–∏–≥—Ä–∞—Ü–∏—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

–ü—Ä–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏ —Å –ø—Ä–µ–¥—ã–¥—É—â–µ–π –≤–µ—Ä—Å–∏–∏ –∑–∞–ø—É—Å—Ç–∏—Ç–µ —Å–∫—Ä–∏–ø—Ç –º–∏–≥—Ä–∞—Ü–∏–∏:

```bash
python backend/migrate_db.py
```

**–î–æ–±–∞–≤–ª—è–µ—Ç:**
- –ö–æ–ª–æ–Ω–∫—É `depends_on` –≤ tasks (–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –∑–∞–¥–∞—á)
- –ö–æ–ª–æ–Ω–∫—É `habit_type` –≤ tasks (–Ω–∞–≤—ã–∫ vs —Ä—É—Ç–∏–Ω–∞)
- –ö–æ–ª–æ–Ω–∫—É `penalty_streak` –≤ point_history
- –ù–æ–≤—ã–µ –∫–æ–ª–æ–Ω–∫–∏ —à—Ç—Ä–∞—Ñ–æ–≤ –≤ settings
- `routine_habit_multiplier` –≤ settings

–°–∫—Ä–∏–ø—Ç –±–µ–∑–æ–ø–∞—Å–Ω–æ –∑–∞–ø—É—Å–∫–∞—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ä–∞–∑ (–ø—Ä–æ–≤–µ—Ä—è–µ—Ç —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏–µ –∫–æ–ª–æ–Ω–æ–∫).

---

## –î–µ–ø–ª–æ–π

### –õ–æ–∫–∞–ª—å–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞

–°–º–æ—Ç—Ä–∏—Ç–µ [–ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç](#–±—ã—Å—Ç—Ä—ã–π-—Å—Ç–∞—Ä—Ç) –≤—ã—à–µ.

### NixOS (–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

–ü–æ–ª–Ω–æ—Å—Ç—å—é –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –¥–µ–ø–ª–æ–π —Å:
- Git clone
- –°–±–æ—Ä–∫–∞ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞
- –°–µ—Ä–≤–∏—Å backend
- Reverse proxy (Caddy)
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è Fail2ban
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è API –∫–ª—é—á–∞

**–ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è:**

```nix
{ config, pkgs, ... }:
{
  imports = [
    /path/to/umtask/deployment/nixos-module.nix
  ];

  services.task-manager = {
    enable = true;
    domain = "tasks.example.com";  # –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ
  };
}
```

–°–º–æ—Ç—Ä–∏—Ç–µ `deployment/NIXOS-SETUP.md` –¥–ª—è –¥–µ—Ç–∞–ª–µ–π.

### Docker (–í —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ)

–î–µ–ø–ª–æ–π —á–µ—Ä–µ–∑ Docker –ø–ª–∞–Ω–∏—Ä—É–µ—Ç—Å—è, –Ω–æ –ø–æ–∫–∞ –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω.

### Systemd (–†—É—á–Ω–æ–π)

1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
2. –°–æ–∑–¥–∞–π—Ç–µ systemd —Å–µ—Ä–≤–∏—Å (—Å–º–æ—Ç—Ä–∏—Ç–µ `deployment/systemd-service.example`)
3. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ reverse proxy (Nginx/Caddy)
4. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ Fail2ban (—Å–º–æ—Ç—Ä–∏—Ç–µ `deployment/FAIL2BAN.md`)

---

## –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

### –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –ø–æ API –∫–ª—é—á—É

–í—Å–µ API —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã —Ç—Ä–µ–±—É—é—Ç –∑–∞–≥–æ–ª–æ–≤–æ–∫ `X-API-Key`.

**–£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Å–≤–æ–π –∫–ª—é—á:**

```bash
# Backend
export TASK_MANAGER_API_KEY="–≤–∞—à-–±–µ–∑–æ–ø–∞—Å–Ω—ã–π-—Å–ª—É—á–∞–π–Ω—ã–π-–∫–ª—é—á"

# Frontend .env
VITE_API_KEY=–≤–∞—à-–±–µ–∑–æ–ø–∞—Å–Ω—ã–π-—Å–ª—É—á–∞–π–Ω—ã–π-–∫–ª—é—á
```

### –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è Fail2ban

–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ª–æ–≥–∏—Ä—É–µ—Ç –Ω–µ—É–¥–∞—á–Ω—ã–µ –ø–æ–ø—ã—Ç–∫–∏ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ —Å IP –∞–¥—Ä–µ—Å–∞–º–∏.

**–ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é:**
- –ú–∞–∫—Å–∏–º—É–º –ø–æ–ø—ã—Ç–æ–∫: 2
- –í—Ä–µ–º—è –±–∞–Ω–∞: 52 –Ω–µ–¥–µ–ª–∏
- –í—Ä–µ–º—è –ø–æ–∏—Å–∫–∞: 1 –¥–µ–Ω—å

–°–º–æ—Ç—Ä–∏—Ç–µ `deployment/FAIL2BAN.md` –¥–ª—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏.

### HTTPS

–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ reverse proxy (Nginx/Caddy) –¥–ª—è HTTPS –≤ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ.

–ú–æ–¥—É–ª—å NixOS –≤–∫–ª—é—á–∞–µ—Ç Caddy —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–º HTTPS.

---

## –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏

**Backend:**
- FastAPI - –°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π Python –≤–µ–±-—Ñ—Ä–µ–π–º–≤–æ—Ä–∫
- SQLAlchemy - ORM –¥–ª—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
- SQLite - –í—Å—Ç—Ä–æ–µ–Ω–Ω–∞—è –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
- Pydantic - –í–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö

**Frontend:**
- React - UI –±–∏–±–ª–∏–æ—Ç–µ–∫–∞
- Vite - –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç —Å–±–æ—Ä–∫–∏
- Axios - HTTP –∫–ª–∏–µ–Ω—Ç
- Vanilla CSS - –ë–µ–∑ —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–æ–≤, —Ç–µ–º–∞ –≤ —Å—Ç–∏–ª–µ —Ç–µ—Ä–º–∏–Ω–∞–ª–∞

**–î–µ–ø–ª–æ–π:**
- NixOS - –î–µ–∫–ª–∞—Ä–∞—Ç–∏–≤–Ω—ã–π –¥–µ–ø–ª–æ–π
- Systemd - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–µ—Ä–≤–∏—Å–∞–º–∏
- Fail2ban - –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å
- Caddy/Nginx - Reverse proxy

---

## –õ–∏—Ü–µ–Ω–∑–∏—è

MIT
